# Tmux Everforest Dark Theme Configuration
# Everforest Dark Color Palette
bg_dim="#1e2326"     # Background dim
bg0="#272e33"        # Background 0
bg1="#2e383c"        # Background 1
bg2="#374145"        # Background 2
bg3="#414b50"        # Background 3
bg4="#495464"        # Background 4
bg5="#4f5b58"        # Background 5
fg="#d3c6aa"         # Foreground
red="#e67e80"        # Red
orange="#e69875"     # Orange
yellow="#dbbc7f"     # Yellow
green="#a7c080"      # Green
aqua="#83c092"       # Aqua
blue="#7fbbb3"       # Blue
purple="#d699b6"     # Purple
grey0="#7a8478"      # Grey 0
grey1="#859289"      # Grey 1
grey2="#9da9a0"      # Grey 2

# Status bar configuration
set -g status "on"
set -g status-interval 1
set -g status-justify "left"
set -g status-left-length "100"
set -g status-right-length "100"
set -g status-left-style NONE
set -g status-right-style NONE

# Status bar components with lower triangle separators
# Left: session name with lower triangle separator
# U+E0BC =
set -g status-left "#[fg=$bg0,bg=$blue,bold] #S #[fg=$blue,bg=$bg0,nobold]\uE0BC"

# Right: mode indicator with dynamic triangle color
# The triangle color needs to match the mode indicator background
# This is a limitation - tmux can't dynamically change separator colors based on mode
# Workaround: Use a conditional format or accept that separator stays one color
set -g status-right "#{?client_prefix,#[fg=$yellow],#{?pane_in_mode,#[fg=$green],#[fg=$blue]}}#[bg=$bg0]\uE0BE#{tmux_mode_indicator}"

# Mode, message, and pane styles
set -g mode-style "fg=$bg0,bg=$blue"
set -g message-style "fg=$fg,bg=$bg2"
set -g message-command-style "fg=$fg,bg=$bg2"
set -g pane-border-style "fg=$bg3"
set -g pane-active-border-style "fg=$blue"
set -g status-style "fg=$fg,bg=$bg0"
set -g status-bg "$bg0"

# Window status format and active window
setw -g window-status-activity-style "underscore,fg=$fg,bg=$bg0"
setw -g window-status-separator ""
setw -g window-status-style "NONE,fg=$fg,bg=$bg0"

# Inactive window with lower triangle separators
# U+E0BC = , U+E0BE =
setw -g window-status-format "#[fg=$bg1,bg=$bg0]\uE0BE#[fg=$grey1,bg=$bg1] #I  #W #F #[fg=$bg1,bg=$bg0]\uE0BC"

# Active window with lower triangle separators
setw -g window-status-current-format "#[fg=$blue,bg=$bg0]\uE0BE#[fg=$bg0,bg=$blue,bold] #I  #W #F #[fg=$blue,bg=$bg0]\uE0BC"

# Mode indicator prompts and colors (Everforest theme)
set -g @mode_indicator_prefix_prompt ' WAIT '
set -g @mode_indicator_copy_prompt ' COPY '
set -g @mode_indicator_sync_prompt ' SYNC '
set -g @mode_indicator_empty_prompt ' TMUX '

set -g @mode_indicator_prefix_mode_style "fg=$bg0,bg=$yellow,bold"
set -g @mode_indicator_copy_mode_style "fg=$bg0,bg=$green,bold"
set -g @mode_indicator_sync_mode_style "fg=$bg0,bg=$red,bold"
set -g @mode_indicator_empty_mode_style "fg=$bg0,bg=$blue,bold"

# Separator colors for mode indicator (need to match the mode colors)
set -g @mode_indicator_separator_prefix_style "fg=$yellow,bg=$bg0"
set -g @mode_indicator_separator_copy_style "fg=$green,bg=$bg0"
set -g @mode_indicator_separator_sync_style "fg=$red,bg=$bg0"
set -g @mode_indicator_separator_empty_style "fg=$blue,bg=$bg0"
