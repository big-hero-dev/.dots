#!/bin/sh
#  ╔═╗╦ ╦╔╦╗╔═╗╔═╗╔╦╗╔═╗╦═╗╔╦╗
#  ╠═╣║ ║ ║ ║ ║╚═╗ ║ ╠═╣╠╦╝ ║
#  ╩ ╩╚═╝ ╩ ╚═╝╚═╝ ╩ ╩ ╩╩╚═ ╩

###############################################################################
# 1. Input Method
###############################################################################
export GTK_IM_MODULE=fcitx
export QT_IM_MODULE=fcitx
export XMODIFIERS="@im=fcitx"
export SDL_IM_MODULE=fcitx

###############################################################################
# 2. Initial DBus session
###############################################################################
exec dbus-run-session sh -c '

  ###########################################################################
  # 3. Cursor & Power management
  ###########################################################################
  xsetroot -cursor_name left_ptr &
  xset -dpms &
  xset s noblank &
  xset s off &

  ###########################################################################
  # 4. Input Method Framework
  ###########################################################################
  fcitx5 -d &

  ###########################################################################
  # 5. System / User services
  ###########################################################################
  dunst &                  # Notification daemon
  blueman-applet &         # Bluetooth
  unclutter -idle 10 &     # Hide cursor
  udiskie &                # Automount removable media

  ###########################################################################
  # 6. Window Manager
  ###########################################################################
  exec i3
'
